{"ast":null,"code":"var _jsxFileName = \"/Users/nathanguy/Desktop/highlandsInterview/V9/productManager/app/javascript/components/ProductForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { keys.push.apply(keys, Object.getOwnPropertySymbols(object)); } if (enumerableOnly) keys = keys.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { if (i % 2) { var source = arguments[i] != null ? arguments[i] : {}; ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(arguments[i])); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(arguments[i], key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { formatDate, isEmptyObject, validateProduct } from '../helpers/helpers';\nimport Pikaday from 'pikaday';\nimport 'pikaday/css/pikaday.css';\n\nvar ProductForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProductForm, _React$Component);\n\n  function ProductForm(props) {\n    var _this;\n\n    _classCallCheck(this, ProductForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductForm).call(this, props));\n    _this.state = {\n      product: props.product,\n      errors: {}\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    _this.dateInput = React.createRef();\n    return _this;\n  }\n\n  _createClass(ProductForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      new Pikaday({\n        field: this.dateInput.current,\n        onSelect: function onSelect(date) {\n          var formattedDate = formatDate(date);\n          _this2.dateInput.current.value = formattedDate;\n\n          _this2.updateProduct('available_date', formattedDate);\n        }\n      });\n    }\n  }, {\n    key: \"updateProduct\",\n    value: function updateProduct(key, value) {\n      this.setState(function (prevState) {\n        return {\n          product: _objectSpread({}, prevState.product, _defineProperty({}, key, value))\n        };\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var product = this.state.product;\n      var errors = validateProduct(product);\n\n      if (!isEmptyObject(errors)) {\n        this.setState({\n          errors: errors\n        });\n      } else {\n        var onSubmit = this.props.onSubmit;\n        onSubmit(event);\n      }\n    }\n  }, {\n    key: \"validateProduct\",\n    value: function validateProduct(product) {\n      var errors = {};\n\n      if (product.product_name === '') {\n        errors.product_name = 'You must enter a product name';\n      }\n\n      if (product.available_date === '') {\n        errors.available_date = 'You must enter a valid date';\n      }\n\n      if (product.product_upc === '') {\n        errors.title = 'You must enter a upc';\n      }\n\n      if (product.property_name === '') {\n        errors.property_name = 'You must enter a property name';\n      }\n\n      if (product.property_value === '') {\n        errors.property_value = 'You must enter a property value';\n      }\n\n      console.log(product);\n      return errors;\n    }\n  }, {\n    key: \"isEmptyObject\",\n    value: function isEmptyObject(obj) {\n      return Object.keys(obj).length === 0;\n    }\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(product) {\n      var target = product.target;\n      var name = target.name;\n      var value = target.product_name === 'checkbox' ? target.checked : target.value;\n      this.updateEvent(name, value);\n    }\n  }, {\n    key: \"renderErrors\",\n    value: function renderErrors() {\n      var errors = this.state.errors;\n\n      if (isEmptyObject(errors)) {\n        return null;\n      }\n\n      return React.createElement(\"div\", {\n        className: \"errors\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"The following errors prohibited the product from being saved:\"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, Object.values(errors).map(function (error) {\n        return React.createElement(\"li\", {\n          key: error,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, error);\n      })));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"New Product\"), this.renderErrors(), React.createElement(\"form\", {\n        className: \"eventForm\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"product_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Name:\"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"product_name\",\n        name: \"product_name\",\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"available_date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Date:\"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"available_date\",\n        name: \"available_date\",\n        ref: this.dateInput,\n        autoComplete: \"off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"product_upc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"UPC:\"), React.createElement(\"textarea\", {\n        cols: \"30\",\n        rows: \"10\",\n        id: \"product_upc\",\n        name: \"product_upc\",\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"property_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Property Name:\"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"property_name\",\n        name: \"property_name\",\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"property_value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Property Value:\"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"property_value\",\n        name: \"property_value\",\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-actions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Save\"))));\n    }\n  }]);\n\n  return ProductForm;\n}(React.Component);\n\nProductForm.propTypes = {\n  product: PropTypes.shape()\n};\nProductForm.defaultProps = {\n  product: {\n    product_name: '',\n    available_date: '',\n    product_upc: '',\n    property_name: '',\n    property_value: ''\n  }\n};\nexport default ProductForm;","map":{"version":3,"sources":["/Users/nathanguy/Desktop/highlandsInterview/V9/productManager/app/javascript/components/ProductForm.js"],"names":["React","PropTypes","formatDate","isEmptyObject","validateProduct","Pikaday","ProductForm","props","state","product","errors","handleSubmit","bind","handleInputChange","dateInput","createRef","field","current","onSelect","date","formattedDate","value","updateProduct","key","setState","prevState","e","preventDefault","onSubmit","event","product_name","available_date","product_upc","title","property_name","property_value","console","log","obj","Object","keys","length","target","name","checked","updateEvent","values","map","error","renderErrors","Component","propTypes","shape","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,EAAqBC,aAArB,EAAoCC,eAApC,QAA2D,oBAA3D;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,OAAO,yBAAP;;IAEMC,W;;;;;AACJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAEF,KAAK,CAACE,OADN;AAETC,MAAAA,MAAM,EAAE;AAFC,KAAb;AAKA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB;AACA,UAAKC,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBD,IAAvB,+BAAzB;AACA,UAAKE,SAAL,GAAiBd,KAAK,CAACe,SAAN,EAAjB;AAViB;AAWlB;;;;wCAEmB;AAAA;;AAClB,UAAIV,OAAJ,CAAY;AACVW,QAAAA,KAAK,EAAE,KAAKF,SAAL,CAAeG,OADZ;AAEVC,QAAAA,QAAQ,EAAE,kBAACC,IAAD,EAAU;AAClB,cAAMC,aAAa,GAAGlB,UAAU,CAACiB,IAAD,CAAhC;AACA,UAAA,MAAI,CAACL,SAAL,CAAeG,OAAf,CAAuBI,KAAvB,GAA+BD,aAA/B;;AACA,UAAA,MAAI,CAACE,aAAL,CAAmB,gBAAnB,EAAqCF,aAArC;AACD;AANS,OAAZ;AAQD;;;kCAEaG,G,EAAKF,K,EAAO;AACxB,WAAKG,QAAL,CAAc,UAAAC,SAAS;AAAA,eAAK;AAC1BhB,UAAAA,OAAO,oBACFgB,SAAS,CAAChB,OADR,sBAEJc,GAFI,EAEEF,KAFF;AADmB,SAAL;AAAA,OAAvB;AAMD;;;iCAEYK,C,EAAG;AACdA,MAAAA,CAAC,CAACC,cAAF;AADc,UAENlB,OAFM,GAEM,KAAKD,KAFX,CAENC,OAFM;AAGd,UAAMC,MAAM,GAAGN,eAAe,CAACK,OAAD,CAA9B;;AAEA,UAAI,CAACN,aAAa,CAACO,MAAD,CAAlB,EAA4B;AAC1B,aAAKc,QAAL,CAAc;AAAEd,UAAAA,MAAM,EAANA;AAAF,SAAd;AACD,OAFD,MAEO;AAAA,YACGkB,QADH,GACgB,KAAKrB,KADrB,CACGqB,QADH;AAELA,QAAAA,QAAQ,CAACC,KAAD,CAAR;AACD;AACF;;;oCAEepB,O,EAAS;AACvB,UAAMC,MAAM,GAAG,EAAf;;AAEA,UAAID,OAAO,CAACqB,YAAR,KAAyB,EAA7B,EAAiC;AAC/BpB,QAAAA,MAAM,CAACoB,YAAP,GAAsB,+BAAtB;AACD;;AAED,UAAIrB,OAAO,CAACsB,cAAR,KAA2B,EAA/B,EAAmC;AACjCrB,QAAAA,MAAM,CAACqB,cAAP,GAAwB,6BAAxB;AACD;;AAED,UAAItB,OAAO,CAACuB,WAAR,KAAwB,EAA5B,EAAgC;AAC9BtB,QAAAA,MAAM,CAACuB,KAAP,GAAe,sBAAf;AACD;;AAED,UAAIxB,OAAO,CAACyB,aAAR,KAA0B,EAA9B,EAAkC;AAChCxB,QAAAA,MAAM,CAACwB,aAAP,GAAuB,gCAAvB;AACD;;AAED,UAAIzB,OAAO,CAAC0B,cAAR,KAA2B,EAA/B,EAAmC;AACjCzB,QAAAA,MAAM,CAACyB,cAAP,GAAwB,iCAAxB;AACD;;AAEDC,MAAAA,OAAO,CAACC,GAAR,CAAY5B,OAAZ;AACA,aAAOC,MAAP;AACD;;;kCAEa4B,G,EAAK;AACjB,aAAOC,MAAM,CAACC,IAAP,CAAYF,GAAZ,EAAiBG,MAAjB,KAA4B,CAAnC;AACD;;;sCAEiBhC,O,EAAS;AAAA,UACjBiC,MADiB,GACNjC,OADM,CACjBiC,MADiB;AAAA,UAEjBC,IAFiB,GAERD,MAFQ,CAEjBC,IAFiB;AAGzB,UAAMtB,KAAK,GAAGqB,MAAM,CAACZ,YAAP,KAAwB,UAAxB,GAAqCY,MAAM,CAACE,OAA5C,GAAsDF,MAAM,CAACrB,KAA3E;AACA,WAAKwB,WAAL,CAAiBF,IAAjB,EAAuBtB,KAAvB;AACD;;;mCAEc;AAAA,UACLX,MADK,GACM,KAAKF,KADX,CACLE,MADK;;AAGb,UAAIP,aAAa,CAACO,MAAD,CAAjB,EAA2B;AACzB,eAAO,IAAP;AACD;;AAED,aACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yEADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG6B,MAAM,CAACO,MAAP,CAAcpC,MAAd,EAAsBqC,GAAtB,CAA0B,UAAAC,KAAK;AAAA,eAC9B;AAAI,UAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAiBA,KAAjB,CAD8B;AAAA,OAA/B,CADH,CAFF,CADF;AAUD;;;6BAEQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEG,KAAKC,YAAL,EAFH,EAGE;AAAM,QAAA,SAAS,EAAC,WAAhB;AAA4B,QAAA,QAAQ,EAAE,KAAKtC,YAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,EAAE,EAAC,cAAtB;AAAqC,QAAA,IAAI,EAAC,cAA1C;AAAyD,QAAA,QAAQ,EAAE,KAAKE,iBAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,CADF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AACA,QAAA,IAAI,EAAC,MADL;AAEA,QAAA,EAAE,EAAC,gBAFH;AAGA,QAAA,IAAI,EAAC,gBAHL;AAIA,QAAA,GAAG,EAAE,KAAKC,SAJV;AAKA,QAAA,YAAY,EAAC,KALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADF,CAPF,EAmBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAU,QAAA,IAAI,EAAC,IAAf;AAAoB,QAAA,IAAI,EAAC,IAAzB;AAA8B,QAAA,EAAE,EAAC,aAAjC;AAA+C,QAAA,IAAI,EAAC,aAApD;AAAkE,QAAA,QAAQ,EAAE,KAAKD,iBAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,CAnBF,EAyBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,EAAE,EAAC,eAAtB;AAAsC,QAAA,IAAI,EAAC,eAA3C;AAA2D,QAAA,QAAQ,EAAE,KAAKA,iBAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,CAzBF,EA+BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,EAAE,EAAC,gBAAtB;AAAuC,QAAA,IAAI,EAAC,gBAA5C;AAA6D,QAAA,QAAQ,EAAE,KAAKA,iBAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,CA/BF,EAqCE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CArCF,CAHF,CADF;AA+CD;;;;EAxJuBb,KAAK,CAACkD,S;;AA2JhC5C,WAAW,CAAC6C,SAAZ,GAAwB;AACpB1C,EAAAA,OAAO,EAAER,SAAS,CAACmD,KAAV;AADW,CAAxB;AAIE9C,WAAW,CAAC+C,YAAZ,GAA2B;AACzB5C,EAAAA,OAAO,EAAE;AACPqB,IAAAA,YAAY,EAAE,EADP;AAEPC,IAAAA,cAAc,EAAE,EAFT;AAGPC,IAAAA,WAAW,EAAE,EAHN;AAIPE,IAAAA,aAAa,EAAE,EAJR;AAKPC,IAAAA,cAAc,EAAE;AALT;AADgB,CAA3B;AAUF,eAAe7B,WAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { formatDate, isEmptyObject, validateProduct } from '../helpers/helpers';\nimport Pikaday from 'pikaday';\nimport 'pikaday/css/pikaday.css';\n\nclass ProductForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n        product: props.product,\n        errors: {},\n      };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.dateInput = React.createRef();\n  }\n\n  componentDidMount() {\n    new Pikaday({\n      field: this.dateInput.current,\n      onSelect: (date) => {\n        const formattedDate = formatDate(date);\n        this.dateInput.current.value = formattedDate;\n        this.updateProduct('available_date', formattedDate);\n      },\n    });\n  }\n\n  updateProduct(key, value) {\n    this.setState(prevState => ({\n      product: {\n        ...prevState.product,\n        [key]: value,\n      },\n    }));\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const { product } = this.state;\n    const errors = validateProduct(product);\n\n    if (!isEmptyObject(errors)) {\n      this.setState({ errors });\n    } else {\n      const { onSubmit } = this.props;\n      onSubmit(event);\n    }\n  }\n\n  validateProduct(product) {\n    const errors = {};\n\n    if (product.product_name === '') {\n      errors.product_name = 'You must enter a product name';\n    }\n\n    if (product.available_date === '') {\n      errors.available_date = 'You must enter a valid date';\n    }\n\n    if (product.product_upc === '') {\n      errors.title = 'You must enter a upc';\n    }\n\n    if (product.property_name === '') {\n      errors.property_name = 'You must enter a property name';\n    }\n\n    if (product.property_value === '') {\n      errors.property_value = 'You must enter a property value';\n    }\n\n    console.log(product);\n    return errors;\n  }\n\n  isEmptyObject(obj) {\n    return Object.keys(obj).length === 0;\n  }\n\n  handleInputChange(product) {\n    const { target } = product;\n    const { name } = target;\n    const value = target.product_name === 'checkbox' ? target.checked : target.value;\n    this.updateEvent(name, value);\n  }\n\n  renderErrors() {\n    const { errors } = this.state;\n\n    if (isEmptyObject(errors)) {\n      return null;\n    }\n\n    return (\n      <div className=\"errors\">\n        <h3>The following errors prohibited the product from being saved:</h3>\n        <ul>\n          {Object.values(errors).map(error => (\n            <li key={error}>{error}</li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>New Product</h2>\n        {this.renderErrors()}\n        <form className=\"eventForm\" onSubmit={this.handleSubmit}>\n          <div>\n            <label htmlFor=\"product_name\">\n              <strong>Name:</strong>\n              <input type=\"text\" id=\"product_name\" name=\"product_name\" onChange={this.handleInputChange}/>\n            </label>\n          </div>\n          <div>\n            <label htmlFor=\"available_date\">\n                <strong>Date:</strong>\n                <input\n                type=\"text\"\n                id=\"available_date\"\n                name=\"available_date\"\n                ref={this.dateInput}\n                autoComplete=\"off\"\n                />\n            </label>\n            </div>\n          <div>\n            <label htmlFor=\"product_upc\">\n              <strong>UPC:</strong>\n              <textarea cols=\"30\" rows=\"10\" id=\"product_upc\" name=\"product_upc\" onChange={this.handleInputChange}/>\n            </label>\n          </div>\n          <div>\n            <label htmlFor=\"property_name\">\n              <strong>Property Name:</strong>\n              <input type=\"text\" id=\"property_name\" name=\"property_name\" onChange={this.handleInputChange}/>\n            </label>\n          </div>\n          <div>\n            <label htmlFor=\"property_value\">\n              <strong>Property Value:</strong>\n              <input type=\"text\" id=\"property_value\" name=\"property_value\" onChange={this.handleInputChange}/>\n            </label>\n          </div>\n          <div className=\"form-actions\">\n            <button type=\"submit\">Save</button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nProductForm.propTypes = {\n    product: PropTypes.shape(),\n  };\n\n  ProductForm.defaultProps = {\n    product: {\n      product_name: '',\n      available_date: '',\n      product_upc: '',\n      property_name: '',\n      property_value: '',\n    },\n  };\n\nexport default ProductForm;"]},"metadata":{},"sourceType":"module"}